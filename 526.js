(self.webpackChunkviz_dados_rio=self.webpackChunkviz_dados_rio||[]).push([[526],{7557:function(t,e,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return n(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImgComparisonSlider=void 0;const a=r(i(7294));"undefined"!=typeof document&&Promise.resolve().then((()=>s(i(9058)))),e.ImgComparisonSlider=({children:t,onSlide:e,...i})=>{const o=a.default.createRef();return a.default.useEffect((()=>{void 0!==i.value&&(o.current.value=parseFloat(i.value.toString()))}),[i.value,o]),a.default.useEffect((()=>{e&&o.current.addEventListener("slide",e)}),[]),a.default.createElement("img-comparison-slider",Object.assign({class:i.className?`${i.className} rendered`:"rendered",tabIndex:0,ref:o},i),t)}},9117:(t,e,i)=>{"use strict";i.d(e,{Z:()=>y});var o=i(7294),n=i(17),s=i(6158),r=i.n(s),a=i(5518),l=i(5893);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}r().workerClass=i(1410).Z;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(u,t);var e,i,s,r,c=(s=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(s);if(r){var i=m(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).state={mapSettings:{scrollZoom:t.scrollZoom,mapboxAccessToken:t.mapboxAccessToken,mapStyle:t.mapStyle,interactive:t.interactive,showLayers:t.showLayers,style:t.mapCSS},mapRef:o.createRef(),layerTypes:{fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity","circle-stroke-opacity"],symbol:["icon-opacity","text-opacity"],raster:["raster-opacity"],"fill-extrusion":["fill-extrusion-opacity"],heatmap:["heatmap-opacity"]},time:0,allLayers:[],mapLoaded:!1},e}return e=u,(i=[{key:"componentDidMount",value:function(){}},{key:"getViewState",value:function(t){var e=a.tq?{center:[t.mobile.center.lon,t.mobile.center.lat],zoom:t.mobile.zoom,bearing:t.mobile.bearing,pitch:t.mobile.pitch,duration:t.mobile.duration}:{center:[t.desktop.center.lon,t.desktop.center.lat],zoom:t.desktop.zoom,bearing:t.desktop.bearing,pitch:t.desktop.pitch,duration:t.desktop.duration};return e.duration||(e.duration=4e3),e}},{key:"toggleLayers",value:function(t,e){var i;if(this.state.mapLoaded){var o=null===(i=this.state.mapRef.current)||void 0===i?void 0:i.getMap();if(o){this.props.showLayers&&console.log("allLyaers",o.getStyle().layers);for(var n=0;n<t.length;n++){var s=t[n];("mapbox"===s.layerType||s.layerType.startsWith("deckgl"))&&(o.getLayer(s.layer.id)||(o.addLayer(s.layer),this.state.allLayers.push(s)));var r=s.layer.id,a=n>0?t[n-1].layer.id:void 0;o.moveLayer(r,a)}for(var l=0,d=0;d<t.length;d++){var c=t[d].layer.id,h=t[d].layerType;l=void 0!==t[d].targetOpacity?e?t[d].targetOpacity:0:e?1:0;var u=o.getLayer(c);if(h.startsWith("deckgl"))null==u||u.implementation.setProps({opacity:l});else if(h.startsWith("mapbox"))u&&this.state.layerTypes[u.type].forEach((function(t){o.setPaintProperty(c,t,l)}));else if("reuse"===h){var p=this.state.allLayers.find((function(t){return t.layer.id===c}));if(!p)break;p.layer.id;var f=p.layerType,m=o.getLayer(c);m&&(f.startsWith("deckgl")?null==m||m.implementation.setProps({opacity:l}):f.startsWith("mapbox")&&this.state.layerTypes[m.type].forEach((function(t){o.setPaintProperty(c,t,l)})))}}}}}},{key:"startAnimation",value:function(){var t=this;this.state.mapLoaded&&requestAnimationFrame((function e(){var i=t.state.time;i=(i+t.props.animationSpeed)%t.props.animationLoopLength,t.setState(h(h({},t.state),{},{time:i})),requestAnimationFrame(e)}))}},{key:"componentDidUpdate",value:function(t){if(t.location!==this.props.location){var e=this.getViewState(this.props.location),i=this.state.mapRef.current;i&&(this.props.animated?i.flyTo(e):(i.setCenter(e.center),i.setZoom(e.zoom),i.setBearing(e.bearing),i.setPitch(e.pitch)))}t.layers!==this.props.layers&&(this.toggleLayers(t.layers,!1),this.toggleLayers(this.props.layers,!0))}},{key:"render",value:function(){var t=this;return(0,l.jsx)(n.D5,h(h({ref:this.state.mapRef,initialViewState:a.tq?{latitude:this.props.location.mobile.center.lat,longitude:this.props.location.mobile.center.lon,zoom:this.props.location.mobile.zoom,bearing:this.props.location.mobile.bearing,pitch:this.props.location.mobile.pitch}:{latitude:this.props.location.desktop.center.lat,longitude:this.props.location.desktop.center.lon,zoom:this.props.location.desktop.zoom,bearing:this.props.location.desktop.bearing,pitch:this.props.location.desktop.pitch}},this.state.mapSettings),{},{onLoad:function(e){e.target,t.state.mapLoaded=!0,t.toggleLayers(t.props.layers,!0),t.startAnimation()},onRender:function(e){var i=e.target;t.state.allLayers.forEach((function(e){if("deckgl-trips"===e.layerType){var o=i.getLayer(e.layer.id);o&&o.implementation.setProps({currentTime:t.state.time})}}))}}))}}])&&p(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Component);v.defaultProps={interactive:!1,scrollZoom:!1,showLayers:!1,animationSpeed:3,animationLoopLength:28e3,animated:!0,mapboxAccessToken:"",mapStyle:"",mapCSS:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"-1"},layers:[],location:{desktop:{center:{lat:0,lon:0},zoom:0,bearing:0,pitch:0,duration:4e3},mobile:{center:{lat:0,lon:0},zoom:0,bearing:0,pitch:0,duration:4e3}}};const y=v},9058:()=>{(()=>{"use strict";var t={792:(t,e,i)=>{i.d(e,{Z:()=>s});var o=i(609),n=i.n(o)()((function(t){return t[1]}));n.push([t.id,':host{--divider-width: 1px;--divider-color: #fff;--divider-shadow: none;--default-handle-width: 50px;--default-handle-color: #fff;--default-handle-opacity: 1;--default-handle-shadow: none;--handle-position-start: 50%;position:relative;display:inline-block;overflow:hidden;line-height:0;direction:ltr}@media screen and (-webkit-min-device-pixel-ratio: 0)and (min-resolution: 0.001dpcm){:host{outline-offset:1px}}:host(:focus){outline:2px solid -webkit-focus-ring-color}::slotted(*){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.first{position:absolute;left:0;top:0;right:0;line-height:normal;font-size:100%;max-height:100%;height:100%;width:100%;--exposure: 50%;--keyboard-transition-time: 0ms;--default-transition-time: 0ms;--transition-time: var(--default-transition-time)}.first .first-overlay-container{position:relative;clip-path:inset(0 var(--exposure) 0 0);transition:clip-path var(--transition-time);height:100%}.first .first-overlay{overflow:hidden;height:100%}.first.focused{will-change:clip-path}.first.focused .first-overlay-container{will-change:clip-path}.second{position:relative}.handle-container{transform:translateX(50%);position:absolute;top:0;right:var(--exposure);height:100%;transition:right var(--transition-time),bottom var(--transition-time)}.focused .handle-container{will-change:right}.divider{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.divider:after{content:" ";display:block;height:100%;border-left-width:var(--divider-width);border-left-style:solid;border-left-color:var(--divider-color);box-shadow:var(--divider-shadow)}.handle{position:absolute;top:var(--handle-position-start);pointer-events:none;box-sizing:border-box;margin-left:1px;transform:translate(calc(-50% - 0.5px), -50%);line-height:0}.default-handle{width:var(--default-handle-width);opacity:var(--default-handle-opacity);transition:all 1s;filter:drop-shadow(var(--default-handle-shadow))}.default-handle path{stroke:var(--default-handle-color)}.vertical .first-overlay-container{clip-path:inset(0 0 var(--exposure) 0)}.vertical .handle-container{transform:translateY(50%);height:auto;top:unset;bottom:var(--exposure);width:100%;left:0;flex-direction:row}.vertical .divider:after{height:1px;width:100%;border-top-width:var(--divider-width);border-top-style:solid;border-top-color:var(--divider-color);border-left:0}.vertical .handle{top:auto;left:var(--handle-position-start);transform:translate(calc(-50% - 0.5px), -50%) rotate(90deg)}',""]);const s=n},609:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,o){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(o)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(n[r]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);o&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=i(792);const e="rendered",o=(t,e)=>{const i=t.getBoundingClientRect();let o,n;return"mousedown"===e.type?(o=e.clientX,n=e.clientY):(o=e.touches[0].clientX,n=e.touches[0].clientY),o>=i.x&&o<=i.x+i.width&&n>=i.y&&n<=i.y+i.height},n=document.createElement("template");n.innerHTML='<div class="second" id="second"> <slot name="second"><slot name="before"></slot></slot> </div> <div class="first" id="first"> <div class="first-overlay"> <div class="first-overlay-container" id="firstImageContainer"> <slot name="first"><slot name="after"></slot></slot> </div> </div> <div class="handle-container"> <div class="divider"></div> <div class="handle" id="handle"> <slot name="handle"> <svg xmlns="http://www.w3.org/2000/svg" class="default-handle" viewBox="-8 -3 16 6"> <path d="M -5 -2 L -7 0 L -5 2 M 5 -2 L 7 0 L 5 2" fill="none" vector-effect="non-scaling-stroke"/> </svg> </slot> </div> </div> </div> ';const s={ArrowLeft:-1,ArrowRight:1},r=["horizontal","vertical"],a=t=>({x:t.touches[0].pageX,y:t.touches[0].pageY}),l=t=>({x:t.pageX,y:t.pageY});class d extends HTMLElement{constructor(){super(),this.exposure=this.hasAttribute("value")?parseFloat(this.getAttribute("value")):50,this.slideOnHover=!1,this.slideDirection="horizontal",this.keyboard="enabled",this.isMouseDown=!1,this.animationDirection=0,this.isFocused=!1,this.handle=!1,this.onMouseMove=t=>{if(this.isMouseDown||this.slideOnHover){const e=l(t);this.slideToPage(e)}},this.bodyUserSelectStyle="",this.onMouseDown=t=>{if(this.slideOnHover)return;if(this.handle&&!o(this.handleElement,t))return;t.preventDefault(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onWindowMouseUp),this.isMouseDown=!0,this.enableTransition();const e=l(t);this.slideToPage(e),this.focus(),this.bodyUserSelectStyle=window.document.body.style.userSelect,window.document.body.style.userSelect="none"},this.onWindowMouseUp=()=>{this.isMouseDown=!1,window.document.body.style.userSelect=this.bodyUserSelectStyle,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onWindowMouseUp)},this.touchStartPoint=null,this.isTouchComparing=!1,this.hasTouchMoved=!1,this.onTouchStart=t=>{this.handle&&!o(this.handleElement,t)||(this.touchStartPoint=a(t),this.isFocused&&(this.enableTransition(),this.slideToPage(this.touchStartPoint)))},this.onTouchMove=t=>{if(null===this.touchStartPoint)return;const e=a(t);if(this.isTouchComparing)return this.slideToPage(e),t.preventDefault(),!1;if(!this.hasTouchMoved){const i=Math.abs(e.y-this.touchStartPoint.y),o=Math.abs(e.x-this.touchStartPoint.x);if("horizontal"===this.slideDirection&&i<o||"vertical"===this.slideDirection&&i>o)return this.isTouchComparing=!0,this.focus(),this.slideToPage(e),t.preventDefault(),!1;this.hasTouchMoved=!0}},this.onTouchEnd=()=>{this.isTouchComparing=!1,this.hasTouchMoved=!1,this.touchStartPoint=null},this.onBlur=()=>{this.stopSlideAnimation(),this.isFocused=!1,this.firstElement.classList.remove("focused")},this.onFocus=()=>{this.isFocused=!0,this.firstElement.classList.add("focused")},this.onKeyDown=t=>{if("disabled"===this.keyboard)return;const e=s[t.key];this.animationDirection!==e&&void 0!==e&&(this.animationDirection=e,this.startSlideAnimation())},this.onKeyUp=t=>{if("disabled"===this.keyboard)return;const e=s[t.key];void 0!==e&&this.animationDirection===e&&this.stopSlideAnimation()},this.resetDimensions=()=>{this.imageWidth=this.offsetWidth,this.imageHeight=this.offsetHeight};const e=this.attachShadow({mode:"open"}),i=document.createElement("style");i.innerHTML=t.Z,this.getAttribute("nonce")&&i.setAttribute("nonce",this.getAttribute("nonce")),e.appendChild(i),e.appendChild(n.content.cloneNode(!0)),this.firstElement=e.getElementById("first"),this.secondElement=e.getElementById("second"),this.handleElement=e.getElementById("handle")}get value(){return this.exposure}set value(t){const e=parseFloat(t);e!==this.exposure&&(this.exposure=e,this.enableTransition(),this.setExposure())}get hover(){return this.slideOnHover}set hover(t){this.slideOnHover="false"!==t.toString().toLowerCase(),this.removeEventListener("mousemove",this.onMouseMove),this.slideOnHover&&this.addEventListener("mousemove",this.onMouseMove)}get direction(){return this.slideDirection}set direction(t){this.slideDirection=t.toString().toLowerCase(),this.slide(0),this.firstElement.classList.remove(...r),r.includes(this.slideDirection)&&this.firstElement.classList.add(this.slideDirection)}static get observedAttributes(){return["hover","direction"]}connectedCallback(){this.hasAttribute("tabindex")||(this.tabIndex=0),this.addEventListener("dragstart",(t=>(t.preventDefault(),!1))),new ResizeObserver(this.resetDimensions).observe(this),this.setExposure(0),this.keyboard=this.hasAttribute("keyboard")&&"disabled"===this.getAttribute("keyboard")?"disabled":"enabled",this.addEventListener("keydown",this.onKeyDown),this.addEventListener("keyup",this.onKeyUp),this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.addEventListener("touchend",this.onTouchEnd),this.addEventListener("mousedown",this.onMouseDown),this.handle=this.hasAttribute("handle"),this.hover=!!this.hasAttribute("hover")&&this.getAttribute("hover"),this.direction=this.hasAttribute("direction")?this.getAttribute("direction"):"horizontal",this.resetDimensions(),this.classList.contains(e)||this.classList.add(e),this.querySelectorAll('[slot="before"], [slot="after"]').length>0&&console.warn('<img-comparison-slider>: slot names "before" and "after" are deprecated and soon won\'t be supported. Please use slot="first" instead of slot="after", and slot="second" instead of slot="before".')}disconnectedCallback(){this.transitionTimer&&window.clearTimeout(this.transitionTimer)}attributeChangedCallback(t,e,i){"hover"===t&&(this.hover=i),"direction"===t&&(this.direction=i),"keyboard"===t&&(this.keyboard="disabled"===i?"disabled":"enabled")}setExposure(t=0){var e;this.exposure=(e=this.exposure+t)<0?0:e>100?100:e,this.firstElement.style.setProperty("--exposure",100-this.exposure+"%")}slide(t=0){this.setExposure(t);const e=new Event("slide");this.dispatchEvent(e)}slideToPage(t){"horizontal"===this.slideDirection&&this.slideToPageX(t.x),"vertical"===this.slideDirection&&this.slideToPageY(t.y)}slideToPageX(t){const e=t-this.getBoundingClientRect().left-window.scrollX;this.exposure=e/this.imageWidth*100,this.slide(0)}slideToPageY(t){const e=t-this.getBoundingClientRect().top-window.scrollY;this.exposure=e/this.imageHeight*100,this.slide(0)}enableTransition(){this.firstElement.style.setProperty("--transition-time","100ms"),this.transitionTimer=window.setTimeout((()=>{this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)"),this.transitionTimer=null}),100)}startSlideAnimation(){let t=null,e=this.animationDirection;this.firstElement.style.setProperty("--transition-time","var(--keyboard-transition-time)");const i=o=>{if(0===this.animationDirection||e!==this.animationDirection)return;null===t&&(t=o);const n=(o-t)/16.666666666666668*this.animationDirection;this.slide(n),setTimeout((()=>window.requestAnimationFrame(i)),0),t=o};window.requestAnimationFrame(i)}stopSlideAnimation(){this.animationDirection=0,this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)")}}"undefined"!=typeof window&&window.customElements.define("img-comparison-slider",d)})()})()},2868:()=>{},4777:()=>{},9725:()=>{},209:()=>{},7414:()=>{}}]);