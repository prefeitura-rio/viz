"use strict";(self.webpackChunkviz_dados_rio=self.webpackChunkviz_dados_rio||[]).push([[2835],{2835:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(7294),o=r(9117),i=r(4729),a=r(4753),c=r(3282),l=r(5893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){var e=d((0,n.useState)(!0),2),t=e[0],r=e[1],s=d((0,n.useState)({desktop:{center:{lon:-43.17672,lat:-22.90574},zoom:14.57,pitch:60,bearing:-151.1,duration:2e3},mobile:{center:{lat:-22.9121089,lon:-43.2301558},zoom:15,bearing:0,pitch:0,duration:2e3}}),2),p=s[0],b=s[1],m=d((0,n.useState)(a.ZZ().layers),2),f=m[0],h=m[1],y=function(e){var t=e.desktop?e.desktop:e,r=e.mobile?e.mobile:e;b(u(u({},p),{},{desktop:u({},t),mobile:u({},r)}))},g=d((0,n.useState)(0),2),j=g[0],v=g[1];(0,n.useEffect)((function(){switch(j){case 1:case 2:y(a.ZZ().location),h(a.ZZ().layers);break;case 3:y(a.Cm().location),h(a.Cm().layers)}}),[j]);var k=function(e,t,r){return e+(t-e)*r},x=function(e,t,r){Math.floor(1e4*r)%1==0&&setTimeout((function(){y(function(e,t,r){return{desktop:{center:{lon:k(e.desktop.center.lon,t.desktop.center.lon,r),lat:k(e.desktop.center.lat,t.desktop.center.lat,r)},zoom:k(e.desktop.zoom,t.desktop.zoom,r),pitch:k(e.desktop.pitch,t.desktop.pitch,r),bearing:k(e.desktop.bearing,t.desktop.bearing,r),duration:k(e.desktop.duration,t.desktop.duration,r)},mobile:{center:{lon:k(e.mobile.center.lon,t.mobile.center.lon,r),lat:k(e.mobile.center.lat,t.mobile.center.lat,r)},zoom:k(e.mobile.zoom,t.mobile.zoom,r),pitch:k(e.mobile.pitch,t.mobile.pitch,r),bearing:k(e.mobile.bearing,t.mobile.bearing,r),duration:k(e.mobile.duration,t.mobile.duration,r)}}}(e,t,r))}),100)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{animated:t,interactive:!1,scrollZoom:!0,mapboxAccessToken:"pk.eyJ1IjoiZXNjcml0b3Jpb2RlZGFkb3MiLCJhIjoiY2t3bWdmcHpjMmJ2cTJucWJ4MGQ1Mm1kbiJ9.4hHJX-1pSevYoBbja7Pq4w",mapStyle:"mapbox://styles/escritoriodedados/cl5b8ea0s002915qtaaxvxz8b",layers:f,location:p,mapCSS:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"-1"},animationLoopLength:21600,animationSpeed:1}),(0,l.jsxs)(i.Q,{children:[(0,l.jsx)(i.x,{triggerElement:"#chapter-1",indicators:!0,pin:!1,duration:"100%",offset:0,reverse:!0,children:function(e,t){return(0,l.jsxs)(l.Fragment,{children:["enter"===t.type&&v(1),(0,l.jsx)(c.ZZ,{id:"chapter-1"})]})}}),(0,l.jsx)(i.x,{triggerElement:"#chapter-2",indicators:!0,pin:!1,duration:"100%",offset:0,reverse:!0,children:function(e,t){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(l.Fragment,{children:["enter"===t.type&&r(!1),"leave"===t.type&&r(!0),"DURING"===t.state&&x(a.ZZ().location,a.Cm().location,e)]}),(0,l.jsx)(c.p2,{id:"chapter-2"})]})}}),(0,l.jsx)(i.x,{triggerElement:"#chapter-3",indicators:!0,pin:!1,duration:"100%",offset:0,reverse:!0,children:function(e,t){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(l.Fragment,{children:"enter"===t.type&&v(3)}),(0,l.jsx)(c.Cm,{id:"chapter-3"})]})}})]}),(0,l.jsx)("div",{style:{height:"50vh"}})]})}}}]);